<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Quiz</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <nav>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="learn.html">Learn</a></li>
                <li><a href="demos.html">Demos</a></li>
                <li><a href="ethics.html">Ethics</a></li>
                <li><a href="quiz.html">Quiz</a></li>
            </ul>
        </nav>
    </header>

    <section class="quiz-hero">
        <h1>Test Your AI Knowledge</h1>
        <p>Choose your level and challenge yourself with interactive questions about AI concepts, applications, and ethics.</p>
        <button class="btn btn-primary" onclick="scrollToQuiz()">Test Your Knowledge</button>
    </section>

    <section class="quiz-modules" id="quiz-modules">
        <div class="module beginner">
            <h2>Beginner</h2>
            <p>Start with the basics of AI, including definitions and simple concepts.</p>
            <button class="btn btn-primary" onclick="startQuiz('beginner')">Start Beginner Quiz</button>
        </div>
        <div class="module advanced">
            <h2>Advanced</h2>
            <p>Dive deeper into AI topics like machine learning and neural networks.</p>
            <button class="btn btn-primary" onclick="startQuiz('advanced')">Start Advanced Quiz</button>
        </div>
        <div class="module expert">
            <h2>Expert</h2>
            <p>Test your expertise with challenging questions on AI ethics and applications.</p>
            <button class="btn btn-primary" onclick="startQuiz('expert')">Start Expert Quiz</button>
        </div>
    </section>

    <section class="quiz-container" id="quiz-container" style="display: none;">
        <h2 id="quiz-title"></h2>
        <div id="quiz-questions"></div>
        <button class="btn btn-secondary" onclick="submitQuiz()">Submit Quiz</button>
    </section>

    <section class="quiz-result" id="quiz-result" style="display: none;">
        <h2>Your Results</h2>
        <p id="result-text"></p>
        <button class="btn btn-primary" onclick="restartQuiz()">Try Another Quiz</button>
    </section>

    <section class="api-features">
        <h2>Answer 3 Correct Questions to Get a Fun Reward</h2>

        <!-- Numbers API -->
        <div class="api-feature" id="ai-fact" style="display: none;">
            <h3>Fun AI Fact</h3>
            <button class="btn btn-primary" onclick="fetchNumberFact()">Get a Fun Fact</button>
            <p id="number-fact" class="api-response"></p>
        </div>

        <!-- Advice Slip API -->
        <div class="api-feature" id="ai-tip" style="display: none;">
            <h3>AI Learning Tip</h3>
            <button class="btn btn-primary" onclick="fetchAdvice()">Get a Tip</button>
            <p id="advice" class="api-response"></p>
        </div>

        <!-- Cat Facts API -->
        <div class="api-feature" id="cat-fact" style="display: none;">
            <h3>Fun Cat Fact</h3>
            <button class="btn btn-primary" onclick="fetchCatFact()">Get a Cat Fact</button>
            <p id="cat-fact-response" class="api-response"></p>
        </div>
    </section>

    <script>
        const quizzes = {
            beginner: [
                { question: "What does AI stand for?", options: ["Artificial Intelligence", "Automated Input", "Advanced Interaction"], answer: 0 },
                { question: "Which of these is an example of AI?", options: ["ChatGPT", "Calculator", "Microwave"], answer: 0 },
                { question: "What is the purpose of AI?", options: ["To mimic human intelligence", "To replace humans", "To create robots"], answer: 0 }
            ],
            advanced: [
                { question: "What is a neural network?", options: ["A type of machine learning model", "A physical network of computers", "A programming language"], answer: 0 },
                { question: "What does NLP stand for?", options: ["Natural Language Processing", "Neural Learning Protocol", "Network Logic Programming"], answer: 0 },
                { question: "Which algorithm is commonly used in AI?", options: ["Gradient Descent", "Bubble Sort", "Binary Search"], answer: 0 }
            ],
            expert: [
                { question: "What is a common ethical concern in AI?", options: ["Bias in decision-making", "High electricity usage", "Slow processing speed"], answer: 0 },
                { question: "What is the Turing Test used for?", options: ["Evaluating machine intelligence", "Testing software bugs", "Measuring processing speed"], answer: 0 },
                { question: "Which industry uses AI for fraud detection?", options: ["Finance", "Healthcare", "Retail"], answer: 0 }
            ]
        };

        let currentQuiz = [];
        let currentLevel = "";
        let score = 0;

        function startQuiz(level) {
            currentLevel = level;
            currentQuiz = quizzes[level];
            document.getElementById("quiz-title").textContent = `${level.charAt(0).toUpperCase() + level.slice(1)} Quiz`;
            const quizQuestions = document.getElementById("quiz-questions");
            quizQuestions.innerHTML = currentQuiz.map((q, index) => `
                <div class="quiz-question">
                    <p>${q.question}</p>
                    ${q.options.map((option, i) => `
                        <label>
                            <input type="radio" name="question-${index}" value="${i}">
                            ${option}
                        </label>
                    `).join("")}
                </div>
            `).join("");
            document.getElementById("quiz-modules").style.display = "none";
            document.getElementById("quiz-container").style.display = "block";
        }

        function submitQuiz() {
            const answers = document.querySelectorAll("#quiz-questions input[type='radio']:checked");
            score = 0;
            answers.forEach((answer, index) => {
                if (parseInt(answer.value) === currentQuiz[index].answer) {
                    score++;
                }
            });

            document.getElementById("quiz-container").style.display = "none";
            document.getElementById("quiz-result").style.display = "block";

            // Keep quiz modules horizontally aligned
            const quizModules = document.getElementById("quiz-modules");
            quizModules.style.display = "flex";
            quizModules.style.flexDirection = "row";
            quizModules.style.justifyContent = "center";

            document.getElementById("result-text").textContent = `You scored ${score} out of ${currentQuiz.length} in the ${currentLevel} quiz.`;

            // Reveal rewards based on the number of correct answers
            if (score >= 3) {
                revealReward("ai-fact"); // Reveal Fun AI Fact
            }
            if (score >= 6) {
                revealReward("ai-tip"); // Reveal AI Learning Tip
            }
            if (score >= 9) {
                revealReward("cat-fact"); // Reveal Fun Cat Fact
            }
        }

        // Function to reveal a reward without fade-in
        function revealReward(rewardId) {
            const rewardElement = document.getElementById(rewardId);
            rewardElement.style.display = "block"; // Simply make the reward visible
        }

        function restartQuiz() {
            document.getElementById("quiz-result").style.display = "none";
            document.getElementById("quiz-modules").style.display = "flex";

            // Reset quiz modules to horizontal alignment
            const quizModules = document.getElementById("quiz-modules");
            quizModules.style.flexDirection = "row";
            quizModules.style.justifyContent = "center";
        }

        // Numbers API: Fetch a random fact about a number
        async function fetchNumberFact() {
            const factElement = document.getElementById("number-fact");
            factElement.textContent = "Loading...";
            try {
                const response = await fetch("http://numbersapi.com/random/trivia");
                const fact = await response.text();
                factElement.textContent = fact;
            } catch (error) {
                factElement.textContent = "Error fetching fact.";
            }
        }

        // Advice Slip API: Fetch a random piece of advice
        async function fetchAdvice() {
            const adviceElement = document.getElementById("advice");
            adviceElement.textContent = "Loading...";
            try {
                const response = await fetch("https://api.adviceslip.com/advice");
                const data = await response.json();
                adviceElement.textContent = data.slip.advice;
            } catch (error) {
                adviceElement.textContent = "Error fetching advice.";
            }
        }

        // Programming Quotes API: Fetch a random programming quote
        async function fetchProgrammingQuote() {
            const quoteElement = document.getElementById("programming-quote");
            quoteElement.textContent = "Loading...";
            try {
                const response = await fetch("https://programming-quotes-api.herokuapp.com/quotes/random");
                const data = await response.json();
                quoteElement.textContent = `"${data.en}" - ${data.author}`;
            } catch (error) {
                quoteElement.textContent = "Error fetching quote.";
            }
        }

        // Cat Facts API: Fetch a random cat fact
        async function fetchCatFact() {
            const factElement = document.getElementById("cat-fact-response");
            factElement.textContent = "Loading...";
            try {
                const response = await fetch("https://catfact.ninja/fact");
                const data = await response.json();
                factElement.textContent = data.fact;
            } catch (error) {
                factElement.textContent = "Error fetching cat fact.";
            }
        }

        function scrollToQuiz() {
            const quizModules = document.getElementById("quiz-modules");
            quizModules.scrollIntoView({ behavior: "smooth" });
        }
    </script>
</body>
</html>